---
layout: single
title:  "# 3. 우크라이나 전쟁이후 밀 ETF 회귀분석 모델링 유의미 여부 확인 및 B안 준비"
categories : hackaton
toc: true
---




# 3. 우크라이나 전쟁이후 밀 ETF 회귀분석 모델링 유의미 여부 확인 및 B안 준비

생성일: 2022년 4월 25일 오후 5:34
태그: 3

## 실습 상세 제목

우크라이나 전쟁이후 밀 ETF 회귀분석 모델링 유의미 여부 확인 및 B안 준비 

## 실습목적

- 우크라이나 전쟁이후 밀 ETF 회귀분석 모델링 유의미 여부 확인 및 B안 준비

## 회의 참석자

- 김정훈
- 이지현
- 전유석
- 황윤재

## 회의 진행

- 최종 PT 발표 흐름 _ 우크라이나 전쟁 전후 밀 ETF 예측
    1. 왜 이 전쟁으로 인한 주가 예측을 하려고 하느냐 화두를 던지는 것
    2. 리스크 관리 측면에서 이용하는건데, 개인측면에선 수익을 올리기 위해서 주식을 분석한다. 
    3. 기본적 분석과 기술적 분석을 하고 데이터 개요 설명해주고 최근에 주가에 영향을 미쳤던 큰 충격들을 설명 
    4. 최근에 가장 주가에 영향을 미쳤다고 생각한 우크라이나 전쟁에 대해 논하고자 한다. 
    5. 그 변수로 전쟁, - 유가- 농산물 
    6. 전쟁 - 유가 - 돼지고기 
    7. 전쟁 - 유가 - 농산물에 대해 왜 선택했는지에 대해 설명 
    8. 수집하고 전처리 하는 과정을 말하면 된다. 
    
- 수집 - 정제 -변환 -선택 - 구축- 평가 - 활용 순서로 데이터 분석 순서 정의

- 우크라이나 전쟁 이후 밀 ETF를 독립변수로 하고 가격과 돼지고기, 금, 환율, ITA, 등의 지수를 통해 상관관계 분석하고 결정계수 확인
    - 확인 결과 → 전쟁에 대한 계량화가 어려워서 전쟁 전후 이후 주가분석이 어렵다.
        - 추가 독립변수 안건
            - VIX 추천 : 우크라이나 전쟁을 표현할 계량적인 정보의 대안으로써 언급.
            그러나 VIX 는 주식시장 변동률에 관한 지수기 때문에 적절하지 않은 것으로 판단
            
        - 해석에 대한 추가 의견
        현재 -1인  $r^2$ 값이 0~1 안으로 들어오면 전쟁으로 인한 충격이 해소되었다고 보고 이전 크림반도 전쟁과 같은 요소로 짐작하여 전쟁의 충격이 해소되는 시기를 예측할 수 있지 않을까?
            - 불가능하다고 판단 : 전쟁으로 인한 충격이 언제 끝날지, 혹은 끝나기 전에 다른 충격이 덮친것인지 예상할 수 없음
            
- 종속변수 변경 안건
    - 종속변수를 ETF 하지 말고 코로나 시점 코스피를 넣는다면?
    - 코로나로 인한 대폭락 시장을 벗어나 정상성을 회복한 것으로 보여지는 2020 5월 1일 ~ 22년 3월 31일까지 코스피200 데이터 수집
    - 다음시간에, 코스피 200과 각자 넣고 싶은 독립변수를 넣어서 모델 예측력 확인해보기로 결정
    - 현재 정해진 독립변수 : 유가, 환율, 금
    

---

## 데이터 파악하기

- 우크라이나 전쟁 전후 밀 ETF 회귀분석 모델
    - 이전에 했던 회귀분석에서 시계열 데이터임에도 사이킷런의 [selection.train_test_split](http://scikit-learn.org/stable/modules/generated/sklearn.model_selection.train_test_split.html) 을 활용해 랜덤으로 train test 셋을 분할 했었으나, 
     다시 시계열 인덱스 순으로 정렬해 손수 x_train 과 x_test 셋을 8:2로 분리해 변수값에 지정해 모델 적용
    - 해당 모델의 오차 및 결정계수 확인 결과 $R^2$ 결정계수 값이 -50까지 가는 오류 확인 (정상 범주는 0 ~ 1 사이값)
    - 데이터 전처리의 문제 확인.
        - 종속변수의 정상성 뿐 아니라 독립변수 또한 정상성있도록 scaling 진행후 모델 학습함. 오차확인을 위해 exmp1( ) 을 통해 되돌려 결정계수 확인. 결정계수 값이 -50 에서 -1로 좋아짐
        - 우크라이나 전쟁 이후의 결정계수 값이 -1로 확인한 것을 보고, 우크라이나 전쟁 이전의 데이터에도 똑같은 모델 적용했으나 마찬가지로 -50이라는 결정계수 값이 나왔다.
        - $R^2$ 값에 대한 해석
            - -1이 나온 것이 평균보다 전쟁으로 인해 변동성이 커졌기 때문에 오차도 커졌을 것으로 해석해볼 수 있다.
            
        
    
    ---
    

## 후기

황윤재 : 낯선 도메인에서의 변수선정의 어려움 

김지호 : 결과를 뽑아내기 어려웠다. 

전유석 : 분석이 생각대로 어려웠다. 보는 것과 다르다. 

이지현 :  적절한 변수 설정 어려움
